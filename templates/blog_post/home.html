{% extends 'base.html' %}
{% block title %}Home | {% endblock %}
{% block navbar_button %}
    <div class="d-flex justify-content-end">
        {% if user.is_authenticated %}
            <span class="d-flex align-items-center justify-content-end navbar-text mr-2">
                Logged in as {{ user.username}}
            </span>
        {% endif %}
        <a href="{% url 'user_logout' %}" class="d-flex justify-content-end btn btn-link btn-lg"
           tabindex="-1" role="button" aria-disabled="true">Logout</a>
    </div>
{% endblock navbar_button %}
{% block content %}
    <div class="d-flex justify-content-end">
        <a class="justify-content-end btn btn-primary"
           href="{% url 'create_post' %}" role="button">
            Create Post
        </a>
    </div>
    {% for post in posts %}
        <div class="container">
            <div class="align-items-start">
                <a class="btn btn-link" href=".">
                    <h4>{{ post.title }}</h4>
                </a>
                <span class="badge badge-{% if post.publish == 'publish' %}success{% elif post.publish == 'draft' %}secondary{% else %}danger{% endif %}">
                    {{post.publish|title}}
                </span>
                <p class="ml-4">{{post.content|truncatewords:50}}</p>
            </div>
            <div class="d-flex align-items-end">
                <label class="p-2 justify-content-start label label-default"> Authored by {{ post.author.username }}</label>
                <label class="p-2 justify-content-end label label-default"> Create at {{ post.created_at }}</label>
                <label class="p-2 justify-content-end label label-default"> Update at {{ post.updated_at }}</label>
            </div>
        </div>
    {% endfor %}
{% endblock content %}